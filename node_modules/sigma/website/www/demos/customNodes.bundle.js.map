{"version":3,"sources":["webpack:///webpack/runtime/chunk loaded","webpack:///./custom-nodes/custom-node-fragment-shader.glsl","webpack:///../src/rendering/webgl/shaders/node.fast.vert.glsl","webpack:///./custom-nodes.ts","webpack:///./custom-nodes/custom-node-program.ts","webpack:///../src/rendering/webgl/programs/common/node.ts","webpack:///../src/rendering/webgl/programs/common/program.ts","webpack:///../src/rendering/webgl/shaders/utils.ts","webpack:///../src/utils/index.ts","webpack:///../src/utils/matrices.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"names":["deferred","container","document","getElementById","graph","UndirectedGraph","order","probability","assign","nodes","forEach","node","mergeNodeAttributes","label","getRandomName","size","Math","max","random","color","hex","renderer","nodeProgramClasses","circle","globalize","gl","bind","process","data","hidden","offset","i","array","this","floatColor","x","y","render","params","program","useProgram","uniform1f","ratioLocation","pow","ratio","nodesPowRatio","scaleLocation","scalingRatio","uniformMatrix3fv","matrixLocation","matrix","drawArrays","POINTS","length","AbstractNodeProgram","vertexShaderSource","fragmentShaderSource","points","attributes","positionLocation","getAttribLocation","sizeLocation","colorLocation","getUniformLocation","Error","enableVertexAttribArray","vertexAttribPointer","FLOAT","Float32Array","BYTES_PER_ELEMENT","UNSIGNED_BYTE","AbstractProgram","programClasses","programs","map","ProgramClass","bufferData","allocate","capacity","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","vertexShader","loadVertexShader","fragmentShader","loadFragmentShader","loadProgram","DYNAMIC_DRAW","loadShader","type","source","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","shaders","l","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","isPlainObject","value","constructor","Object","assignDeep","target","objects","o","k","requestFrame","requestAnimationFrame","callback","setTimeout","cancelFrame","cancelAnimationFrame","requestID","clearTimeout","tag","style","element","createElement","setAttribute","window","devicePixelRatio","extent","minX","maxX","minY","maxY","dX","dY","fn","applyTo","inverse","getter","elements","sort","a","b","zA","zB","FLOAT_COLOR_CACHE","INT8","Int8Array","INT32","Int32Array","FLOAT32","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","val","r","g","parseInt","charAt","test","match","state","dimensions","angle","width","height","identity","smallestDimension","min","cameraCentering","translate","cameraScaling","scale","cameraRotation","rotate","viewportScaling","multiply","Uint8Array","readPixels","RGBA","WebGL2RenderingContext","getExtension","forEachNode","key","Number","isFinite","of","m","s","sin","c","cos","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","id","loaded","__webpack_modules__","call","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","d","definition","defineProperty","enumerable","get","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","362","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","push","__webpack_exports__"],"mappings":"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","file":"customNodes.bundle.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","export default \"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst float halfRadius = 0.25;\\n\\nvoid main(void) {\\n  vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\\n  vec4 color1 = vec4(1.0, 1.0, 1.0, 1.0);\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = length(m);\\n\\n\\n  if (dist < halfRadius - v_border)\\n    gl_FragColor = color1;\\n  else if (dist < halfRadius)\\n    gl_FragColor = mix(v_color, color1, (halfRadius - dist) / v_border);\\n  else if (dist < radius - v_border)\\n    gl_FragColor = v_color;\\n  else if (dist < radius)\\n    gl_FragColor = mix(color0, v_color, (radius - dist) / v_border);\\n  else\\n    gl_FragColor = color0;\\n}\\n\";","export default \"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_ratio;\\nuniform float u_scale;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\\n\\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";","import { UndirectedGraph } from \"graphology\";\nimport erdosRenyi from \"graphology-generators/random/erdos-renyi\";\nimport randomLayout from \"graphology-layout/random\";\nimport chroma from \"chroma-js\";\n\nimport Sigma from \"sigma\";\n\nimport { getRandomName, globalize } from \"./utils\";\nimport CustomNodeProgram from \"./custom-nodes/custom-node-program\";\n\nconst container = document.getElementById(\"container\");\n\nconst graph = erdosRenyi(UndirectedGraph, { order: 100, probability: 0.2 });\nrandomLayout.assign(graph);\n\ngraph.nodes().forEach((node) => {\n  graph.mergeNodeAttributes(node, {\n    label: getRandomName(),\n    size: Math.max(4, Math.random() * 10),\n    color: chroma.random().hex(),\n  });\n});\n\nconst renderer = new Sigma(graph, container, {\n  nodeProgramClasses: { circle: CustomNodeProgram },\n});\n\nglobalize({ graph, renderer });\n","/**\n * This program is a copy of src/renderers/webgl/program/node.fast.js, but with\n * a custom fragment shader (./custom-node-fragment-shader.glsl) that will draw\n * a disc inside the nodes.\n */\nimport { AbstractNodeProgram, RenderNodeParams } from \"../../src/rendering/webgl/programs/common/node\";\nimport { NodeAttributes } from \"../../src/types\";\nimport { floatColor } from \"../../src/utils\";\nimport vertexShaderSource from \"../../src/rendering/webgl/shaders/node.fast.vert.glsl\";\nimport fragmentShaderSource from \"./custom-node-fragment-shader.glsl\";\n\nconst POINTS = 3,\n  ATTRIBUTES = 10;\n\nexport default class CustomNodeProgram extends AbstractNodeProgram {\n  constructor(gl: WebGLRenderingContext) {\n    super(gl, vertexShaderSource, fragmentShaderSource, POINTS, ATTRIBUTES);\n    this.bind();\n  }\n\n  process(data: NodeAttributes, hidden: boolean, offset: number): void {\n    let i = offset * POINTS * ATTRIBUTES;\n    const array = this.array;\n\n    if (hidden) {\n      array[i++] = 0;\n      array[i++] = 0;\n      array[i++] = 0;\n      array[i++] = 0;\n      return;\n    }\n\n    const color = floatColor(data.color);\n\n    array[i++] = data.x;\n    array[i++] = data.y;\n    array[i++] = data.size;\n    array[i] = color;\n  }\n\n  render(params: RenderNodeParams): void {\n    const gl = this.gl;\n\n    const program = this.program;\n    gl.useProgram(program);\n\n    gl.uniform1f(this.ratioLocation, 1 / Math.pow(params.ratio, params.nodesPowRatio));\n    gl.uniform1f(this.scaleLocation, params.scalingRatio);\n    gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n\n    gl.drawArrays(gl.POINTS, 0, this.array.length / ATTRIBUTES);\n  }\n}\n","/**\n * Sigma.js WebGL Abstract Node Program\n * =====================================\n *\n * @module\n */\nimport { AbstractProgram, IProgram, RenderParams } from \"./program\";\nimport { NodeAttributes } from \"../../../../types\";\n\nexport interface RenderNodeParams extends RenderParams {\n  nodesPowRatio: number;\n}\n\nexport interface INodeProgram extends IProgram {\n  process(data: NodeAttributes, hidden: boolean, offset: number): void;\n  render(params: RenderNodeParams): void;\n}\n\n/**\n * Node Program class.\n *\n * @constructor\n */\nexport abstract class AbstractNodeProgram extends AbstractProgram implements INodeProgram {\n  positionLocation: GLint;\n  sizeLocation: GLint;\n  colorLocation: GLint;\n  matrixLocation: WebGLUniformLocation;\n  ratioLocation: WebGLUniformLocation;\n  scaleLocation: WebGLUniformLocation;\n\n  constructor(\n    gl: WebGLRenderingContext,\n    vertexShaderSource: string,\n    fragmentShaderSource: string,\n    points: number,\n    attributes: number,\n  ) {\n    super(gl, vertexShaderSource, fragmentShaderSource, points, attributes);\n\n    // Locations\n    this.positionLocation = gl.getAttribLocation(this.program, \"a_position\");\n    this.sizeLocation = gl.getAttribLocation(this.program, \"a_size\");\n    this.colorLocation = gl.getAttribLocation(this.program, \"a_color\");\n\n    // Uniform Location\n    const matrixLocation = gl.getUniformLocation(this.program, \"u_matrix\");\n    if (matrixLocation === null) throw new Error(\"AbstractNodeProgram: error while getting matrixLocation\");\n    this.matrixLocation = matrixLocation;\n\n    const ratioLocation = gl.getUniformLocation(this.program, \"u_ratio\");\n    if (ratioLocation === null) throw new Error(\"AbstractNodeProgram: error while getting ratioLocation\");\n    this.ratioLocation = ratioLocation;\n\n    const scaleLocation = gl.getUniformLocation(this.program, \"u_scale\");\n    if (scaleLocation === null) throw new Error(\"AbstractNodeProgram: error while getting scaleLocation\");\n    this.scaleLocation = scaleLocation;\n  }\n\n  bind(): void {\n    const gl = this.gl;\n\n    gl.enableVertexAttribArray(this.positionLocation);\n    gl.enableVertexAttribArray(this.sizeLocation);\n    gl.enableVertexAttribArray(this.colorLocation);\n    gl.vertexAttribPointer(\n      this.positionLocation,\n      2,\n      gl.FLOAT,\n      false,\n      this.attributes * Float32Array.BYTES_PER_ELEMENT,\n      0,\n    );\n    gl.vertexAttribPointer(this.sizeLocation, 1, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 8);\n    gl.vertexAttribPointer(\n      this.colorLocation,\n      4,\n      gl.UNSIGNED_BYTE,\n      true,\n      this.attributes * Float32Array.BYTES_PER_ELEMENT,\n      12,\n    );\n  }\n\n  abstract process(data: NodeAttributes, hidden: boolean, offset: number): void;\n}\n\nexport interface NodeProgramConstructor {\n  new (gl: WebGLRenderingContext): INodeProgram;\n}\n\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nexport function createNodeCompoundProgram(programClasses: Array<NodeProgramConstructor>): NodeProgramConstructor {\n  return class NodeCompoundProgram implements INodeProgram {\n    programs: Array<INodeProgram>;\n\n    constructor(gl: WebGLRenderingContext) {\n      this.programs = programClasses.map((ProgramClass) => new ProgramClass(gl));\n    }\n\n    bufferData(): void {\n      this.programs.forEach((program) => program.bufferData());\n    }\n\n    allocate(capacity: number): void {\n      this.programs.forEach((program) => program.allocate(capacity));\n    }\n\n    bind(): void {\n      // nothing todo, it's already done in each program constructor\n    }\n\n    render(params: RenderNodeParams): void {\n      this.programs.forEach((program) => program.render(params));\n    }\n\n    process(data: NodeAttributes, hidden: boolean, offset: number): void {\n      this.programs.forEach((program) => program.process(data, hidden, offset));\n    }\n  };\n}\n","/**\n * Sigma.js WebGL Renderer Program\n * ================================\n *\n * Class representing a single WebGL program used by sigma's WebGL renderer.\n * @module\n */\nimport { loadVertexShader, loadFragmentShader, loadProgram } from \"../../shaders/utils\";\n\nexport interface RenderParams {\n  width: number;\n  height: number;\n  ratio: number;\n  matrix: Float32Array;\n  scalingRatio: number;\n}\n\nexport interface IProgram {\n  bufferData(): void;\n  allocate(capacity: number): void;\n  bind(): void;\n  render(params: RenderParams): void;\n}\n\n/**\n * Abstract Program class.\n *\n * @constructor\n */\nexport abstract class AbstractProgram implements IProgram {\n  points: number;\n  attributes: number;\n  gl: WebGLRenderingContext;\n  array: Float32Array = new Float32Array();\n  buffer: WebGLBuffer;\n  vertexShaderSource: string;\n  vertexShader: WebGLShader;\n  fragmentShaderSource: string;\n  fragmentShader: WebGLShader;\n  program: WebGLProgram;\n\n  constructor(\n    gl: WebGLRenderingContext,\n    vertexShaderSource: string,\n    fragmentShaderSource: string,\n    points: number,\n    attributes: number,\n  ) {\n    this.points = points;\n    this.attributes = attributes;\n    this.gl = gl;\n    this.vertexShaderSource = vertexShaderSource;\n    this.fragmentShaderSource = fragmentShaderSource;\n    const buffer = gl.createBuffer();\n    if (buffer === null) throw new Error(\"AbstractProgram: error while creating the buffer\");\n    this.buffer = buffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n\n    this.vertexShader = loadVertexShader(gl, this.vertexShaderSource);\n    this.fragmentShader = loadFragmentShader(gl, this.fragmentShaderSource);\n    this.program = loadProgram(gl, [this.vertexShader, this.fragmentShader]);\n  }\n\n  bufferData(): void {\n    const gl = this.gl;\n    gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n  }\n\n  allocate(capacity: number): void {\n    this.array = new Float32Array(this.points * this.attributes * capacity);\n  }\n\n  abstract bind(): void;\n  abstract render(params: RenderParams): void;\n}\n","/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\n\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type: string, gl: WebGLRenderingContext, source: string): WebGLShader {\n  const glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n\n  // Creating the shader\n  const shader = gl.createShader(glType);\n  if (shader === null) {\n    throw new Error(`loadShader: error while creating the shader`);\n  }\n\n  // Loading source\n  gl.shaderSource(shader, source);\n\n  // Compiling the shader\n  gl.compileShader(shader);\n\n  // Retrieving compilation status\n  const successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n  // Throwing if something went awry\n  if (!successfullyCompiled) {\n    const infoLog = gl.getShaderInfoLog(shader);\n\n    gl.deleteShader(shader);\n    throw new Error(`loadShader: error while compiling the shader:\\n${infoLog}\\n${source}`);\n  }\n\n  return shader;\n}\n\nexport function loadVertexShader(gl: WebGLRenderingContext, source: string): WebGLShader {\n  return loadShader(\"VERTEX\", gl, source);\n}\nexport function loadFragmentShader(gl: WebGLRenderingContext, source: string): WebGLShader {\n  return loadShader(\"FRAGMENT\", gl, source);\n}\n\n/**\n * Function used to load a program.\n */\nexport function loadProgram(gl: WebGLRenderingContext, shaders: Array<WebGLShader>): WebGLProgram {\n  const program = gl.createProgram();\n  if (program === null) {\n    throw new Error(\"loadProgram: error while creating the program.\");\n  }\n\n  let i, l;\n\n  // Attaching the shaders\n  for (i = 0, l = shaders.length; i < l; i++) gl.attachShader(program, shaders[i]);\n\n  gl.linkProgram(program);\n\n  // Checking status\n  const successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n  if (!successfullyLinked) {\n    gl.deleteProgram(program);\n    throw new Error(\"loadProgram: error while linking the program.\");\n  }\n\n  return program;\n}\n","/**\n * Sigma.js Utils\n * ===============\n *\n * Various helper functions & classes used throughout the library.\n * @module\n */\nimport Graph from \"graphology\";\nimport { Attributes } from \"graphology-types\";\nimport isGraph from \"graphology-utils/is-graph\";\nimport { CameraState, Coordinates, Extent, PlainObject } from \"../types\";\nimport { multiply, identity, scale, rotate, translate } from \"./matrices\";\n\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function isPlainObject(value: any): boolean {\n  return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\n\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nexport function assignDeep<T>(target: Partial<T> | undefined, ...objects: Array<Partial<T | undefined>>): T {\n  target = target || {};\n\n  for (let i = 0, l = objects.length; i < l; i++) {\n    const o = objects[i];\n\n    if (!o) continue;\n\n    for (const k in o) {\n      if (isPlainObject(o[k])) {\n        target[k] = assignDeep(target[k], o[k]);\n      } else {\n        target[k] = o[k];\n      }\n    }\n  }\n\n  return target as T;\n}\n\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexport const requestFrame =\n  typeof requestAnimationFrame !== \"undefined\"\n    ? (callback: FrameRequestCallback) => requestAnimationFrame(callback)\n    : (callback: FrameRequestCallback) => setTimeout(callback, 0);\nexport const cancelFrame =\n  typeof cancelAnimationFrame !== \"undefined\"\n    ? (requestID: number) => cancelAnimationFrame(requestID)\n    : (requestID: number) => clearTimeout(requestID);\n\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nexport function createElement<T extends HTMLElement>(\n  tag: string,\n  style?: Partial<CSSStyleDeclaration>,\n  attributes?: PlainObject<string>,\n): T {\n  const element: T = document.createElement(tag) as T;\n\n  if (style) {\n    for (const k in style) {\n      element.style[k] = style[k] as string;\n    }\n  }\n\n  if (attributes) {\n    for (const k in attributes) {\n      element.setAttribute(k, attributes[k]);\n    }\n  }\n\n  return element;\n}\n\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nexport function getPixelRatio(): number {\n  if (typeof window.devicePixelRatio !== \"undefined\") return window.devicePixelRatio;\n\n  return 1;\n}\n\n/**\n * Factory returning a function normalizing the given node's position & size.\n *\n * @param  {object}   extent  - Extent of the graph.\n * @return {function}\n */\nexport interface NormalizationFunction {\n  (data: Coordinates): Coordinates;\n  inverse(data: Coordinates): Coordinates;\n  applyTo(data: Coordinates): void;\n}\nexport function createNormalizationFunction(extent: { x: Extent; y: Extent }): NormalizationFunction {\n  const {\n    x: [minX, maxX],\n    y: [minY, maxY],\n  } = extent;\n\n  let ratio = Math.max(maxX - minX, maxY - minY);\n\n  if (ratio === 0) ratio = 1;\n\n  const dX = (maxX + minX) / 2,\n    dY = (maxY + minY) / 2;\n\n  const fn = (data: Coordinates): Coordinates => {\n    return {\n      x: 0.5 + (data.x - dX) / ratio,\n      y: 0.5 + (data.y - dY) / ratio,\n    };\n  };\n\n  // TODO: possibility to apply this in batch over array of indices\n  fn.applyTo = (data: Coordinates): void => {\n    data.x = 0.5 + (data.x - dX) / ratio;\n    data.y = 0.5 + (data.y - dY) / ratio;\n  };\n\n  fn.inverse = (data: Coordinates): Coordinates => {\n    return {\n      x: dX + ratio * (data.x - 0.5),\n      y: dY + ratio * (data.y - 0.5),\n    };\n  };\n\n  fn.ratio = ratio;\n\n  return fn;\n}\n\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nexport function zIndexOrdering<T>(extent: [number, number], getter: (e: T) => number, elements: Array<T>): Array<T> {\n  // If k is > n, we'll use a standard sort\n  return elements.sort(function (a, b) {\n    const zA = getter(a) || 0,\n      zB = getter(b) || 0;\n\n    if (zA < zB) return -1;\n    if (zA > zB) return 1;\n\n    return 0;\n  });\n\n  // TODO: counting sort optimization\n}\n\n/**\n * WebGL utils\n * ===========\n */\n\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nconst FLOAT_COLOR_CACHE: { [key: string]: number } = {};\nconst INT8 = new Int8Array(4);\nconst INT32 = new Int32Array(INT8.buffer, 0, 1);\nconst FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\n\nconst RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nconst RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\n\nexport function floatColor(val: string): number {\n  // If the color is already computed, we yield it\n  if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\") return FLOAT_COLOR_CACHE[val];\n\n  let r = 0,\n    g = 0,\n    b = 0,\n    a = 1;\n\n  // Handling hexadecimal notation\n  if (val[0] === \"#\") {\n    if (val.length === 4) {\n      r = parseInt(val.charAt(1) + val.charAt(1), 16);\n      g = parseInt(val.charAt(2) + val.charAt(2), 16);\n      b = parseInt(val.charAt(3) + val.charAt(3), 16);\n    } else {\n      r = parseInt(val.charAt(1) + val.charAt(2), 16);\n      g = parseInt(val.charAt(3) + val.charAt(4), 16);\n      b = parseInt(val.charAt(5) + val.charAt(6), 16);\n    }\n  }\n\n  // Handling rgb notation\n  else if (RGBA_TEST_REGEX.test(val)) {\n    const match = val.match(RGBA_EXTRACT_REGEX);\n    if (match) {\n      r = +match[1];\n      g = +match[2];\n      b = +match[3];\n\n      if (match[4]) a = +match[4];\n    }\n  }\n\n  a = (a * 255) | 0;\n\n  INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n\n  const color = FLOAT32[0];\n\n  FLOAT_COLOR_CACHE[val] = color;\n\n  return color;\n}\n\n/**\n * Function returning a matrix from the current state of the camera.\n */\n\n// TODO: it's possible to optimize this drastically!\nexport function matrixFromCamera(state: CameraState, dimensions: { width: number; height: number }): Float32Array {\n  const { angle, ratio, x, y } = state;\n\n  const { width, height } = dimensions;\n\n  const matrix = identity();\n\n  const smallestDimension = Math.min(width, height);\n\n  const cameraCentering = translate(identity(), -x, -y),\n    cameraScaling = scale(identity(), 1 / ratio),\n    cameraRotation = rotate(identity(), -angle),\n    viewportScaling = scale(identity(), 2 * (smallestDimension / width), 2 * (smallestDimension / height));\n\n  // Logical order is reversed\n  multiply(matrix, viewportScaling);\n  multiply(matrix, cameraRotation);\n  multiply(matrix, cameraScaling);\n  multiply(matrix, cameraCentering);\n\n  return matrix;\n}\n\n/**\n * Function extracting the color at the given pixel.\n */\nexport function extractPixel(gl: WebGLRenderingContext, x: number, y: number, array: Uint8Array): Uint8Array {\n  const data = array || new Uint8Array(4);\n\n  gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n\n  return data;\n}\n\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nexport function canUse32BitsIndices(gl: WebGLRenderingContext): boolean {\n  const webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n\n  return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\n\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nexport function validateGraph(graph: Graph): void {\n  // check if it's a valid graphology instance\n  if (!isGraph(graph)) throw new Error(\"Sigma: invalid graph instance.\");\n\n  // check if nodes have x/y attributes\n  graph.forEachNode((key: string, attributes: Attributes) => {\n    if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n      throw new Error(\n        `Sigma: Coordinates of node ${key} are invalid. A node must have a numeric 'x' and 'y' attribute.`,\n      );\n    }\n  });\n}\n","/**\n * Sigma.js WebGL Matrices Helpers\n * ================================\n *\n * Matrices-related helper functions used by sigma's WebGL renderer.\n * @module\n */\n\nexport function identity(): Float32Array {\n  return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\n\n// TODO: optimize\nexport function scale(m: Float32Array, x: number, y?: number): Float32Array {\n  m[0] = x;\n  m[4] = typeof y === \"number\" ? y : x;\n\n  return m;\n}\n\nexport function rotate(m: Float32Array, r: number): Float32Array {\n  const s = Math.sin(r),\n    c = Math.cos(r);\n\n  m[0] = c;\n  m[1] = s;\n  m[3] = -s;\n  m[4] = c;\n\n  return m;\n}\n\nexport function translate(m: Float32Array, x: number, y: number): Float32Array {\n  m[6] = x;\n  m[7] = y;\n\n  return m;\n}\n\nexport function multiply(a: Float32Array, b: Float32Array): Float32Array {\n  const a00 = a[0],\n    a01 = a[1],\n    a02 = a[2];\n  const a10 = a[3],\n    a11 = a[4],\n    a12 = a[5];\n  const a20 = a[6],\n    a21 = a[7],\n    a22 = a[8];\n\n  const b00 = b[0],\n    b01 = b[1],\n    b02 = b[2];\n  const b10 = b[3],\n    b11 = b[4],\n    b12 = b[5];\n  const b20 = b[6],\n    b21 = b[7],\n    b22 = b[8];\n\n  a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n\n  return a;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t362: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [351], () => (__webpack_require__(2212)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}