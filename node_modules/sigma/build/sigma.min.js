!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Sigma=e():t.Sigma=e()}(self,(function(){return(()=>{var t={796:t=>{t.exports=function(t,e){var r=e.length;if(0!==r){var i=t.length;t.length+=r;for(var n=0;n<r;n++)t[i+n]=e[n]}}},187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var n=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,i){function n(r){t.removeListener(e,o),i(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",n),r([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,n)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,r,i){var n,o,a,c;if(s(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),(n=h(t))>0&&a.length>n&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=l.bind(i);return n.listener=r,i.wrapFn=n,n}function d(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):p(n,n.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function g(t,e,r,i){if("function"==typeof t.on)i.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(o){i.once&&t.removeEventListener(e,n),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var h=o[t];if(void 0===h)return!1;if("function"==typeof h)i(h,this,e);else{var c=h.length,l=p(h,c);for(r=0;r<c;++r)i(l[r],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,u(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,u(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,i,n,o,a;if(s(e),void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return d(this,t,!0)},o.prototype.rawListeners=function(t){return d(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},886:(t,e,r)=>{var i=r(868);function n(t,e){if(!i(t))throw new Error("graphology-metrics/extent: the given graph is not a valid graphology instance.");var r,n,o,a=[].concat(e),s={};for(o=0;o<a.length;o++)n=a[o],s[n]=[1/0,-1/0];return t.forEachNode((function(t,e){for(o=0;o<a.length;o++)n=a[o],(r=e[n])<s[n][0]&&(s[n][0]=r),r>s[n][1]&&(s[n][1]=r)})),"string"==typeof e?s[e]:s}var o=n;o.nodeExtent=n,o.edgeExtent=function(t,e){if(!i(t))throw new Error("graphology-metrics/extent: the given graph is not a valid graphology instance.");var r,n,o,a=[].concat(e),s={};for(o=0;o<a.length;o++)n=a[o],s[n]=[1/0,-1/0];return t.forEachEdge((function(t,e){for(o=0;o<a.length;o++)n=a[o],(r=e[n])<s[n][0]&&(s[n][0]=r),r>s[n][1]&&(s[n][1]=r)})),"string"==typeof e?s[e]:s},t.exports=o},868:t=>{t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},186:t=>{t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},973:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n"},912:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_thickness;\nattribute float a_radius;\nattribute vec4 a_color;\nattribute vec3 a_barycentric;\n\nuniform mat3 u_matrix;\nuniform float u_scale;\nuniform float u_cameraRatio;\nuniform float u_viewportRatio;\nuniform float u_thicknessRatio;\n\nvarying vec4 v_color;\n\nconst float arrowHeadLengthThicknessRatio = 2.5;\nconst float arrowHeadWidthLengthRatio = 0.66;\nconst float minThickness = 0.8;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n\n  // Computing thickness in screen space:\n  float thickness = a_thickness * u_thicknessRatio * u_scale * u_viewportRatio / 2.0;\n  thickness = max(thickness, minThickness * u_viewportRatio);\n\n  float nodeRadius = a_radius * u_thicknessRatio * u_viewportRatio * u_cameraRatio;\n  float arrowHeadLength = thickness * 2.0 * arrowHeadLengthThicknessRatio * u_cameraRatio;\n  float arrowHeadHalfWidth = arrowHeadWidthLengthRatio * arrowHeadLength / 2.0;\n\n  float da = a_barycentric.x;\n  float db = a_barycentric.y;\n  float dc = a_barycentric.z;\n\n  vec2 delta = vec2(\n      da * ((nodeRadius) * a_normal.y)\n    + db * ((nodeRadius + arrowHeadLength) * a_normal.y + arrowHeadHalfWidth * a_normal.x)\n    + dc * ((nodeRadius + arrowHeadLength) * a_normal.y - arrowHeadHalfWidth * a_normal.x),\n\n      da * (-(nodeRadius) * a_normal.x)\n    + db * (-(nodeRadius + arrowHeadLength) * a_normal.x + arrowHeadHalfWidth * a_normal.y)\n    + dc * (-(nodeRadius + arrowHeadLength) * a_normal.x - arrowHeadHalfWidth * a_normal.y)\n  );\n\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},620:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_thickness;\nattribute vec4 a_color;\nattribute float a_radius;\n\nuniform mat3 u_matrix;\nuniform float u_scale;\nuniform float u_cameraRatio;\nuniform float u_viewportRatio;\nuniform float u_thicknessRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float arrowHeadLengthThicknessRatio = 2.5;\nconst float minThickness = 0.8;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n\n  // Computing thickness in screen space:\n  float thickness = a_thickness * u_thicknessRatio * u_scale * u_viewportRatio / 2.0;\n  thickness = max(thickness, minThickness * u_viewportRatio);\n\n  float direction = sign(a_radius);\n  float nodeRadius = direction * a_radius * u_thicknessRatio * u_viewportRatio;\n  float arrowHeadLength = thickness * 2.0 * arrowHeadLengthThicknessRatio;\n\n  vec2 arrowHeadVector = vec2(-direction * a_normal.y, direction * a_normal.x);\n\n  // Add normal vector to the position in screen space, but correct thickness first:\n  vec2 position = a_position + a_normal * thickness * u_cameraRatio;\n  // Add vector that corrects the arrow head length:\n  position = position + arrowHeadVector * (arrowHeadLength + nodeRadius) * u_cameraRatio;\n  // Apply camera\n  position = (u_matrix * vec3(position, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  v_normal = a_normal;\n  v_thickness = thickness;\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},498:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 0.001;\nconst vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, color0, t);\n}\n"},223:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_thickness;\nattribute vec4 a_color;\n\nuniform mat3 u_matrix;\nuniform float u_scale;\nuniform float u_cameraRatio;\nuniform float u_viewportRatio;\nuniform float u_thicknessRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 0.8;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n\n  // Computing thickness in screen space:\n  float thickness = a_thickness * u_thicknessRatio * u_scale * u_viewportRatio / 2.0;\n  thickness = max(thickness, minThickness * u_viewportRatio);\n\n  // Add normal vector to the position in screen space, but correct thickness first:\n  vec2 position = (u_matrix * vec3(a_position + a_normal * thickness * u_cameraRatio, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  v_normal = a_normal;\n  v_thickness = thickness;\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},262:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\n\nvoid main(void) {\n  vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  gl_FragColor = mix(color0, v_color, t);\n}\n"},106:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});const i="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\n\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},764:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(187),s=r(751),h=o(r(358)),c=r(928),l=1.5,u=function(t){function e(){var e=t.call(this)||this;return e.x=.5,e.y=.5,e.angle=0,e.ratio=1,e.nextFrame=null,e.previousState=null,e.enabled=!0,e.previousState=e.getState(),e}return n(e,t),e.from=function(t){return(new e).setState(t)},e.prototype.enable=function(){return this.enabled=!0,this},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},e.prototype.hasState=function(t){return this.x===t.x&&this.y===t.y&&this.ratio===t.ratio&&this.angle===t.angle},e.prototype.getPreviousState=function(){var t=this.previousState;return t?{x:t.x,y:t.y,angle:t.angle,ratio:t.ratio}:null},e.prototype.isAnimated=function(){return!!this.nextFrame},e.prototype.setState=function(t){return this.enabled?(this.previousState=this.getState(),t.x&&(this.x=t.x),t.y&&(this.y=t.y),t.angle&&(this.angle=t.angle),t.ratio&&(this.ratio=t.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this):this},e.prototype.animate=function(t,e,r){var i=this;if(this.enabled){var n=Object.assign({},s.ANIMATE_DEFAULTS,e),o="function"==typeof n.easing?n.easing:h.default[n.easing],a=Date.now(),l=this.getState(),u=function(){var e=(Date.now()-a)/n.duration;if(e>=1)return i.nextFrame=null,i.setState(t),void(i.animationCallback&&(i.animationCallback.call(null),i.animationCallback=void 0));var r=o(e),s={};t.x&&(s.x=l.x+(t.x-l.x)*r),t.y&&(s.y=l.y+(t.y-l.y)*r),t.angle&&(s.angle=l.angle+(t.angle-l.angle)*r),t.ratio&&(s.ratio=l.ratio+(t.ratio-l.ratio)*r),i.setState(s),i.nextFrame=c.requestFrame(u)};this.nextFrame?(c.cancelFrame(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=c.requestFrame(u)):u(),this.animationCallback=r}},e.prototype.animatedZoom=function(t){if(t){if("number"==typeof t)return this.animate({ratio:this.ratio/t});this.animate({ratio:this.ratio/(t.factor||l)},t)}else this.animate({ratio:this.ratio/l})},e.prototype.animatedUnzoom=function(t){if(t){if("number"==typeof t)return this.animate({ratio:this.ratio*t});this.animate({ratio:this.ratio*(t.factor||l)},t)}else this.animate({ratio:this.ratio*l})},e.prototype.animatedReset=function(t){this.animate({x:.5,y:.5,ratio:1,angle:0},t)},e.prototype.copy=function(){return e.from(this.getState())},e}(a.EventEmitter);e.default=u},291:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.getWheelDelta=e.getTouchCoords=e.getTouchesArray=e.getMouseCoords=e.getPosition=e.getY=e.getX=void 0;var o=r(187);function a(t){if(void 0!==t.offsetX)return t.offsetX;if(void 0!==t.clientX)return t.clientX;throw new Error("Captor: could not extract x from event.")}function s(t){if(void 0!==t.offsetY)return t.offsetY;if(void 0!==t.clientY)return t.clientY;throw new Error("Captor: could not extract y from event.")}function h(t){return{x:a(t),y:s(t)}}function c(t){for(var e=[],r=0,i=Math.min(t.length,2);r<i;r++)e.push(t[r]);return e}e.getX=a,e.getY=s,e.getPosition=h,e.getMouseCoords=function(t){return{x:a(t),y:s(t),clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,shiftKey:t.shiftKey,preventDefault:t.preventDefault.bind(t),original:t}},e.getTouchesArray=c,e.getTouchCoords=function(t){return{touches:c(t.touches).map(h),ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,shiftKey:t.shiftKey,preventDefault:t.preventDefault.bind(t),original:t}},e.getWheelDelta=function(t){if(void 0!==t.deltaY)return-3*t.deltaY/360;if(void 0!==t.detail)return t.detail/-9;throw new Error("Captor: could not extract delta from event.")};var l=function(t){function e(e,r){var i=t.call(this)||this;return i.container=e,i.renderer=r,i}return n(e,t),e}(o.EventEmitter);e.default=l},269:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var h=s(r(291)),c=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.enabled=!0,i.draggedEvents=0,i.downStartTime=null,i.lastMouseX=null,i.lastMouseY=null,i.isMouseDown=!1,i.isMoving=!1,i.movingTimeout=null,i.startCameraState=null,i.clicks=0,i.doubleClickTimeout=null,i.currentWheelDirection=0,i.handleClick=i.handleClick.bind(i),i.handleRightClick=i.handleRightClick.bind(i),i.handleDown=i.handleDown.bind(i),i.handleUp=i.handleUp.bind(i),i.handleMove=i.handleMove.bind(i),i.handleWheel=i.handleWheel.bind(i),i.handleOut=i.handleOut.bind(i),e.addEventListener("click",i.handleClick,!1),e.addEventListener("contextmenu",i.handleRightClick,!1),e.addEventListener("mousedown",i.handleDown,!1),e.addEventListener("mousemove",i.handleMove,!1),e.addEventListener("wheel",i.handleWheel,!1),e.addEventListener("mouseout",i.handleOut,!1),document.addEventListener("mouseup",i.handleUp,!1),i}return n(e,t),e.prototype.kill=function(){var t=this.container;t.removeEventListener("click",this.handleClick),t.removeEventListener("contextmenu",this.handleRightClick),t.removeEventListener("mousedown",this.handleDown),t.removeEventListener("mousemove",this.handleMove),t.removeEventListener("wheel",this.handleWheel),t.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mouseup",this.handleUp)},e.prototype.handleClick=function(t){var e=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,"number"==typeof this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(t);setTimeout((function(){e.clicks=0,e.doubleClickTimeout=null}),300),this.draggedEvents<3&&this.emit("click",h.getMouseCoords(t))}},e.prototype.handleRightClick=function(t){this.enabled&&this.emit("rightClick",h.getMouseCoords(t))},e.prototype.handleDoubleClick=function(t){if(this.enabled){var e=this.renderer.getCamera(),r=e.getState().ratio/2.2;return e.animate(this.renderer.getViewportZoomedState({x:h.getX(t),y:h.getY(t)},r),{easing:"quadraticInOut",duration:200}),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}},e.prototype.handleDown=function(t){this.enabled&&(this.startCameraState=this.renderer.getCamera().getState(),this.lastMouseX=h.getX(t),this.lastMouseY=h.getY(t),this.draggedEvents=0,this.downStartTime=Date.now(),t.which,this.isMouseDown=!0,this.emit("mousedown",h.getMouseCoords(t)))},e.prototype.handleUp=function(t){var e=this;if(this.enabled&&this.isMouseDown){var r=this.renderer.getCamera();this.isMouseDown=!1,"number"==typeof this.movingTimeout&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var i=h.getX(t),n=h.getY(t),o=r.getState(),a=r.getPreviousState()||{x:0,y:0};this.isMoving?r.animate({x:o.x+3*(o.x-a.x),y:o.y+3*(o.y-a.y)},{duration:200,easing:"quadraticOut"}):this.lastMouseX===i&&this.lastMouseY===n||r.setState({x:o.x,y:o.y}),this.isMoving=!1,setTimeout((function(){return e.draggedEvents=0}),0),this.emit("mouseup",h.getMouseCoords(t))}},e.prototype.handleMove=function(t){var e=this;if(this.enabled){if(this.emit("mousemove",h.getMouseCoords(t)),this.isMouseDown){this.isMoving=!0,this.draggedEvents++,"number"==typeof this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){e.movingTimeout=null,e.isMoving=!1}),200);var r=this.renderer.getCamera(),i=h.getX(t),n=h.getY(t),o=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),a=this.renderer.viewportToFramedGraph({x:i,y:n}),s=o.x-a.x,c=o.y-a.y,l=r.getState(),u=l.x+s,d=l.y+c;r.setState({x:u,y:d}),this.lastMouseX=i,this.lastMouseY=n}return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}},e.prototype.handleWheel=function(t){var e=this;if(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!this.enabled)return!1;var r=h.getWheelDelta(t);if(!r)return!1;var i=r>0?1/1.7:1.7,n=this.renderer.getCamera(),o=n.getState().ratio*i,a=r>0?1:-1,s=Date.now();return this.currentWheelDirection===a&&this.lastWheelTriggerTime&&s-this.lastWheelTriggerTime<50||(n.animate(this.renderer.getViewportZoomedState({x:h.getX(t),y:h.getY(t)},o),{easing:"quadraticOut",duration:250},(function(){e.currentWheelDirection=0})),this.currentWheelDirection=a,this.lastWheelTriggerTime=s),!1},e.prototype.handleOut=function(){},e}(h.default);e.default=c},508:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return a(e,t),e},h=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var c=s(r(291)),l=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.enabled=!0,i.isMoving=!1,i.touchMode=0,i.handleStart=i.handleStart.bind(i),i.handleLeave=i.handleLeave.bind(i),i.handleMove=i.handleMove.bind(i),e.addEventListener("touchstart",i.handleStart,!1),e.addEventListener("touchend",i.handleLeave,!1),e.addEventListener("touchcancel",i.handleLeave,!1),e.addEventListener("touchmove",i.handleMove,!1),i}return n(e,t),e.prototype.kill=function(){var t=this.container;t.removeEventListener("touchstart",this.handleStart),t.removeEventListener("touchend",this.handleLeave),t.removeEventListener("touchcancel",this.handleLeave),t.removeEventListener("touchmove",this.handleMove)},e.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},e.prototype.dispatchRelatedMouseEvent=function(t,e,r,i){var n=r||c.getPosition(e.touches[0]),o=new MouseEvent(t,{clientX:n.x,clientY:n.y,altKey:e.altKey,ctrlKey:e.ctrlKey});(i||this.container).dispatchEvent(o)},e.prototype.handleStart=function(t){if(this.enabled){t.preventDefault(),1===t.touches.length&&this.dispatchRelatedMouseEvent("mousedown",t);var e=c.getTouchesArray(t.touches);if(this.isMoving=!0,this.touchMode=e.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=e.map(c.getPosition),this.lastTouchesPositions=this.startTouchesPositions,2===this.touchMode){var r=h(this.startTouchesPositions,2),i=r[0],n=i.x,o=i.y,a=r[1],s=a.x,l=a.y;this.startTouchesAngle=Math.atan2(l-o,s-n),this.startTouchesDistance=Math.sqrt(Math.pow(s-n,2)+Math.pow(l-o,2))}this.emit("touchdown",c.getTouchCoords(t))}},e.prototype.handleLeave=function(t){if(this.enabled){switch(t.preventDefault(),0===t.touches.length&&this.lastTouchesPositions&&this.lastTouchesPositions.length&&(this.dispatchRelatedMouseEvent("mouseup",t,this.lastTouchesPositions[0],document),this.dispatchRelatedMouseEvent("click",t,this.lastTouchesPositions[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(1===t.touches.length){this.handleStart(t),t.preventDefault();break}case 1:if(this.isMoving){var e=this.renderer.getCamera(),r=e.getState(),i=e.getPreviousState()||{x:0,y:0};e.animate({x:r.x+3*(r.x-i.x),y:r.y+3*(r.y-i.y)},{duration:200,easing:"quadraticOut"})}this.isMoving=!1,this.touchMode=0}this.emit("touchup",c.getTouchCoords(t))}},e.prototype.handleMove=function(t){var e,r=this;if(this.enabled){t.preventDefault(),1===t.touches.length&&this.dispatchRelatedMouseEvent("mousemove",t);var i=this.startCameraState,n=c.getTouchesArray(t.touches).map(c.getPosition);switch(this.lastTouchesPositions=n,this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){r.isMoving=!1}),200),this.touchMode){case 1:var o=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),a=o.x,s=o.y,l=this.renderer.viewportToFramedGraph(n[0]),u=l.x,d=l.y;this.renderer.getCamera().setState({x:i.x+a-u,y:i.y+s-d});break;case 2:var f={},p=n[0],g=p.x,v=p.y,m=n[1],y=m.x,_=m.y,b=Math.atan2(_-v,y-g)-this.startTouchesAngle,x=Math.hypot(_-v,y-g)/this.startTouchesDistance;f.ratio=i.ratio/x,f.angle=i.angle+b;var w=this.getDimensions(),L=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:i}),E=Math.min(w.width,w.height),A=E/w.width,T=E/w.height,P=f.ratio/E;d=v-E/2/T,u=(e=h([(u=g-E/2/A)*Math.cos(-f.angle)-d*Math.sin(-f.angle),d*Math.cos(-f.angle)+u*Math.sin(-f.angle)],2))[0],d=e[1],f.x=L.x-u*P,f.y=L.y+d*P,this.renderer.getCamera().setState(f)}this.emit("touchmove",c.getTouchCoords(t))}},e}(c.default);e.default=l},730:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.edgeLabelsToDisplayFromNodes=e.LabelGrid=e.axisAlignedRectangularCollision=void 0,e.axisAlignedRectangularCollision=function(t,e,r,i,n,o,a,s){return t<n+a&&t+r>n&&e<o+s&&e+i>o};var r=function(){function t(t,e){this.key=t,this.size=e}return t.compare=function(t,e){return t.size>e.size?-1:t.size<e.size||t.key>e.key?1:-1},t}(),i=function(){function t(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return t.prototype.resizeAndClear=function(t,e){this.width=t.width,this.height=t.height,this.cellSize=e,this.columns=Math.ceil(t.width/e),this.rows=Math.ceil(t.height/e),this.cells={}},t.prototype.getIndex=function(t){var e=Math.floor(t.x/this.cellSize),r=Math.floor(t.y/this.cellSize);return e*this.columns+r},t.prototype.add=function(t,e,i){var n=new r(t,e),o=this.getIndex(i),a=this.cells[o];a||(a=[],this.cells[o]=a),a.push(n)},t.prototype.organize=function(){for(var t in this.cells)this.cells[t].sort(r.compare)},t.prototype.getLabelsToDisplay=function(t,e){var r=this.cellSize*this.cellSize,i=r/t/t*e/r,n=Math.ceil(i),o=[];for(var a in this.cells)for(var s=this.cells[a],h=0;h<Math.min(n,s.length);h++)o.push(s[h].key);return o},t.prototype.draw=function(t,e){t.strokeStyle="red",t.lineWidth=1;for(var r=0;r<this.columns;r++){var i=e.framedGraphToViewport({x:r*this.cellSize/this.width,y:0});t.beginPath(),t.moveTo(i.x,0),t.lineTo(i.x,this.height),t.stroke()}for(var n=0;n<this.rows;n++)i=e.framedGraphToViewport({x:0,y:n*this.cellSize/this.height}),t.beginPath(),t.moveTo(0,i.y),t.lineTo(this.width,i.y),t.stroke()},t}();e.LabelGrid=i,e.edgeLabelsToDisplayFromNodes=function(t){var e=t.graph,r=t.hoveredNode,i=t.highlightedNodes,n=t.displayedNodeLabels,o=[];return e.forEachEdge((function(t,e,a,s){(a===r||s===r||i.has(a)||i.has(s)||n.has(a)&&n.has(s))&&o.push(t)})),o}},134:function(t,e,r){"use strict";var i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},n=this&&this.__spreadArray||function(t,e){for(var r=0,i=e.length,n=t.length;r<i;r++,n++)t[n]=e[r];return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.rectangleCollidesWithQuad=e.squareCollidesWithQuad=e.getCircumscribedAlignedRectangle=e.isRectangleAligned=void 0;var a=o(r(796)),s=!1;function h(t){return t.x1===t.x2||t.y1===t.y2}function c(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2)),r=(t.y1-t.y2)*t.height/e,i=(t.x2-t.x1)*t.height/e,n={x:t.x1,y:t.y1},o={x:t.x2,y:t.y2},a={x:t.x1+r,y:t.y1+i},s={x:t.x2+r,y:t.y2+i},h=Math.min(n.x,o.x,a.x,s.x),c=Math.max(n.x,o.x,a.x,s.x),l=Math.min(n.y,o.y,a.y,s.y);return{x1:h,y1:l,x2:c,y2:l,height:Math.max(n.y,o.y,a.y,s.y)-l}}function l(t,e,r,i,n,o,a){return t<i+o&&t+r>i&&e<n+a&&e+r>n}function u(t,e,r,i,n,o,a,s){return t<n+a&&t+r>n&&e<o+s&&e+i>o}function d(t,e,r,i,n,o){var a=t<r+n/2;return e<i+o/2?a?1:2:a?3:4}e.isRectangleAligned=h,e.getCircumscribedAlignedRectangle=c,e.squareCollidesWithQuad=l,e.rectangleCollidesWithQuad=u;var f=function(){function t(t){var e;void 0===t&&(t={}),this.containers=((e={}).outside=[],e),this.cache=null,this.lastRectangle=null;var r=Math.pow(4,5);this.data=new Float32Array((4*r-1)/3*4),t.boundaries?this.resize(t.boundaries):this.resize({x:0,y:0,width:1,height:1})}return t.prototype.add=function(t,e,r,i){return function(t,e,r,i,n,o,a){for(var h=n-a,c=o-a,u=2*a,d=0,f=0;;){if(d>=5)return r[f]=r[f]||[],void r[f].push(i);var p=4*f+4,g=4*f+8,v=4*f+12,m=4*f+16,y=l(h,c,u,e[p+0],e[p+1],e[p+2],e[p+3]),_=l(h,c,u,e[g+0],e[g+1],e[g+2],e[g+3]),b=l(h,c,u,e[v+0],e[v+1],e[v+2],e[v+3]),x=l(h,c,u,e[m+0],e[m+1],e[m+2],e[m+3]),w=[y,_,b,x].reduce((function(t,e){return e?t+1:t}),0);if(0===w&&0===d)return r.outside.push(i),void(!s&&r.outside.length>=5&&(s=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box.")));if(0===w)throw new Error("sigma/quadtree.insertNode: no collision (level: "+d+", key: "+i+", x: "+n+", y: "+o+", size: "+a+").");if(3===w)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: "+d+", key: "+i+", x: "+n+", y: "+o+", size: "+a+").");if(w>1)return r[f]=r[f]||[],void r[f].push(i);d++,y&&(f=p),_&&(f=g),b&&(f=v),x&&(f=m)}}(0,this.data,this.containers,t,e,r,i),this},t.prototype.resize=function(t){this.clear(),this.data[0]=t.x,this.data[1]=t.y,this.data[2]=t.width,this.data[3]=t.height,function(t,e){for(var r=[0,0];r.length;){var i=r.pop(),n=r.pop(),o=4*n+4,a=4*n+8,s=4*n+12,h=4*n+16,c=e[n+0],l=e[n+1],u=e[n+2]/2,d=e[n+3]/2;e[o+0]=c,e[o+1]=l,e[o+2]=u,e[o+3]=d,e[a+0]=c+u,e[a+1]=l,e[a+2]=u,e[a+3]=d,e[s+0]=c,e[s+1]=l+d,e[s+2]=u,e[s+3]=d,e[h+0]=c+u,e[h+1]=l+d,e[h+2]=u,e[h+3]=d,i<4&&(r.push(h,i+1),r.push(s,i+1),r.push(a,i+1),r.push(o,i+1))}}(0,this.data)},t.prototype.clear=function(){var t;return this.containers=((t={}).outside=[],t),this},t.prototype.point=function(t,e){var r=[],o=0,a=0;if(t<0||e<0||t>1||e>1)return this.containers.outside;do{this.containers[o]&&r.push.apply(r,n([],i(this.containers[o]))),o=4*o+4*d(t,e,this.data[o+0],this.data[o+1],this.data[o+2],this.data[o+3]),a++}while(a<=5);return r},t.prototype.rectangle=function(t,e,r,o,s){var l,d=this.lastRectangle;return d&&t===d.x1&&r===d.x2&&e===d.y1&&o===d.y2&&s===d.height||(this.lastRectangle={x1:t,y1:e,x2:r,y2:o,height:s},h(this.lastRectangle)||(this.lastRectangle=c(this.lastRectangle)),this.cache=function(t,e,r,i,n,o,s){for(var h,c=[0,0],l=[];c.length;){var d=c.pop(),f=c.pop();if((h=r[f])&&a.default(l,h),!(d>=5)){var p=4*f+4,g=4*f+8,v=4*f+12,m=4*f+16,y=u(i,n,o,s,e[p+0],e[p+1],e[p+2],e[p+3]),_=u(i,n,o,s,e[g+0],e[g+1],e[g+2],e[g+3]),b=u(i,n,o,s,e[v+0],e[v+1],e[v+2],e[v+3]),x=u(i,n,o,s,e[m+0],e[m+1],e[m+2],e[m+3]);y&&c.push(p,d+1),_&&c.push(g,d+1),b&&c.push(v,d+1),x&&c.push(m,d+1)}}return l}(0,this.data,this.containers,t,e,Math.abs(t-r)||Math.abs(e-o),s),(l=this.cache).push.apply(l,n([],i(this.containers.outside)))),this.cache},t}();e.default=f},607:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Sigma=e.MouseCaptor=e.QuadTree=e.Camera=void 0;var n=i(r(764));e.Camera=n.default;var o=i(r(134));e.QuadTree=o.default;var a=i(r(269));e.MouseCaptor=a.default;var s=i(r(159));e.Sigma=s.default,e.default=s.default},942:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,i,n){var o=n.edgeLabelSize,a=n.edgeLabelFont,s=n.edgeLabelWeight,h=e.label;t.fillStyle=e.color,t.font=s+" "+o+"px "+a;var c,l=t.measureText(h).width,u=(r.x+i.x)/2,d=(r.y+i.y)/2,f=i.x-r.x,p=i.y-r.y,g=Math.sqrt(f*f+p*p);c=f>0?p>0?Math.acos(f/g):Math.asin(p/g):p>0?Math.acos(f/g)+Math.PI:Math.asin(f/g)+Math.PI/2,t.save(),t.translate(u,d),t.rotate(c),t.fillText(h,-l/2,e.size/2+o),t.restore()}},61:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(52)),o=i(r(622));e.default=function(t,e,r){var i=r.labelSize,a=r.labelFont,s=r.labelWeight;t.font=s+" "+i+"px "+a,t.beginPath(),t.fillStyle="#fff",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=8,t.shadowColor="#000";var h=t.measureText(e.label).width,c=Math.round(e.x-i/2-2),l=Math.round(e.y-i/2-2),u=Math.round(h+i/2+e.size+9),d=Math.round(i+4),f=Math.round(i/2+2);t.moveTo(c,l+f),t.moveTo(c,l+f),t.arcTo(c,l,c+f,l,f),t.lineTo(c+u,l),t.lineTo(c+u,l+d),t.lineTo(c+f,l+d),t.arcTo(c,l+d,c,l+d-f,f),t.lineTo(c,l+f),t.closePath(),t.fill(),t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,n.default(t,e),o.default(t,e,r)}},622:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var i=r.labelSize,n=r.labelFont,o=r.labelWeight;t.fillStyle="#000",t.font=o+" "+i+"px "+n,t.fillText(e.label,e.x+e.size+3,e.y+i/3)}},52:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=2*Math.PI;e.default=function(t,e){t.fillStyle=e.color,t.beginPath(),t.arc(e.x,e.y,e.size,0,r,!0),t.closePath(),t.fill()}},195:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.createEdgeCompoundProgram=e.AbstractEdgeProgram=void 0;var o=function(t){function e(e,r,i,n,o){return t.call(this,e,r,i,n,o)||this}return n(e,t),e}(r(171).AbstractProgram);e.AbstractEdgeProgram=o,e.createEdgeCompoundProgram=function(t){return function(){function e(e){this.programs=t.map((function(t){return new t(e)}))}return e.prototype.bufferData=function(){this.programs.forEach((function(t){return t.bufferData()}))},e.prototype.allocate=function(t){this.programs.forEach((function(e){return e.allocate(t)}))},e.prototype.bind=function(){},e.prototype.computeIndices=function(){this.programs.forEach((function(t){return t.computeIndices()}))},e.prototype.render=function(t){this.programs.forEach((function(e){e.bind(),e.bufferData(),e.render(t)}))},e.prototype.process=function(t,e,r,i,n){this.programs.forEach((function(o){return o.process(t,e,r,i,n)}))},e}()}},909:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.createNodeCompoundProgram=e.AbstractNodeProgram=void 0;var o=function(t){function e(e,r,i,n,o){var a=t.call(this,e,r,i,n,o)||this;a.positionLocation=e.getAttribLocation(a.program,"a_position"),a.sizeLocation=e.getAttribLocation(a.program,"a_size"),a.colorLocation=e.getAttribLocation(a.program,"a_color");var s=e.getUniformLocation(a.program,"u_matrix");if(null===s)throw new Error("AbstractNodeProgram: error while getting matrixLocation");a.matrixLocation=s;var h=e.getUniformLocation(a.program,"u_ratio");if(null===h)throw new Error("AbstractNodeProgram: error while getting ratioLocation");a.ratioLocation=h;var c=e.getUniformLocation(a.program,"u_scale");if(null===c)throw new Error("AbstractNodeProgram: error while getting scaleLocation");return a.scaleLocation=c,a}return n(e,t),e.prototype.bind=function(){var t=this.gl;t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.sizeLocation),t.enableVertexAttribArray(this.colorLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.sizeLocation,1,t.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,12)},e}(r(171).AbstractProgram);e.AbstractNodeProgram=o,e.createNodeCompoundProgram=function(t){return function(){function e(e){this.programs=t.map((function(t){return new t(e)}))}return e.prototype.bufferData=function(){this.programs.forEach((function(t){return t.bufferData()}))},e.prototype.allocate=function(t){this.programs.forEach((function(e){return e.allocate(t)}))},e.prototype.bind=function(){},e.prototype.render=function(t){this.programs.forEach((function(e){return e.render(t)}))},e.prototype.process=function(t,e,r){this.programs.forEach((function(i){return i.process(t,e,r)}))},e}()}},171:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractProgram=void 0;var i=r(706),n=function(){function t(t,e,r,n,o){this.array=new Float32Array,this.points=n,this.attributes=o,this.gl=t,this.vertexShaderSource=e,this.fragmentShaderSource=r;var a=t.createBuffer();if(null===a)throw new Error("AbstractProgram: error while creating the buffer");this.buffer=a,t.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.vertexShader=i.loadVertexShader(t,this.vertexShaderSource),this.fragmentShader=i.loadFragmentShader(t,this.fragmentShaderSource),this.program=i.loadProgram(t,[this.vertexShader,this.fragmentShader])}return t.prototype.bufferData=function(){var t=this.gl;t.bufferData(t.ARRAY_BUFFER,this.array,t.DYNAMIC_DRAW)},t.prototype.allocate=function(t){this.array=new Float32Array(this.points*this.attributes*t)},t}();e.AbstractProgram=n},569:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(195),o=i(r(805)),a=i(r(483)),s=n.createEdgeCompoundProgram([a.default,o.default]);e.default=s},805:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(928),s=o(r(912)),h=o(r(973)),c=r(195),l=10,u=function(t){function e(e){var r=t.call(this,e,s.default,h.default,3,l)||this;r.positionLocation=e.getAttribLocation(r.program,"a_position"),r.colorLocation=e.getAttribLocation(r.program,"a_color"),r.normalLocation=e.getAttribLocation(r.program,"a_normal"),r.thicknessLocation=e.getAttribLocation(r.program,"a_thickness"),r.radiusLocation=e.getAttribLocation(r.program,"a_radius"),r.barycentricLocation=e.getAttribLocation(r.program,"a_barycentric");var i=e.getUniformLocation(r.program,"u_scale");if(null===i)throw new Error("EdgeArrowHeadProgram: error while getting scaleLocation");r.scaleLocation=i;var n=e.getUniformLocation(r.program,"u_matrix");if(null===n)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");r.matrixLocation=n;var o=e.getUniformLocation(r.program,"u_cameraRatio");if(null===o)throw new Error("EdgeArrowHeadProgram: error while getting cameraRatioLocation");r.cameraRatioLocation=o;var a=e.getUniformLocation(r.program,"u_viewportRatio");if(null===a)throw new Error("EdgeArrowHeadProgram: error while getting viewportRatioLocation");r.viewportRatioLocation=a;var c=e.getUniformLocation(r.program,"u_thicknessRatio");if(null===c)throw new Error("EdgeArrowHeadProgram: error while getting thicknessRatioLocation");return r.thicknessRatioLocation=c,r.bind(),r}return n(e,t),e.prototype.bind=function(){var t=this.gl;t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.normalLocation),t.enableVertexAttribArray(this.thicknessLocation),t.enableVertexAttribArray(this.radiusLocation),t.enableVertexAttribArray(this.colorLocation),t.enableVertexAttribArray(this.barycentricLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,l*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.normalLocation,2,t.FLOAT,!1,l*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.thicknessLocation,1,t.FLOAT,!1,l*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(this.radiusLocation,1,t.FLOAT,!1,l*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,l*Float32Array.BYTES_PER_ELEMENT,24),t.vertexAttribPointer(this.barycentricLocation,3,t.FLOAT,!1,l*Float32Array.BYTES_PER_ELEMENT,28)},e.prototype.computeIndices=function(){},e.prototype.process=function(t,e,r,i,n){if(i)for(var o=30*n,s=o+30;o<s;o++)this.array[o]=0;else{var h=r.size||1,c=e.size||1,l=t.x,u=t.y,d=e.x,f=e.y,p=a.floatColor(r.color),g=d-l,v=f-u,m=g*g+v*v,y=0,_=0;m&&(y=-v*(m=1/Math.sqrt(m)),_=g*m);var b=30*n,x=this.array;x[b++]=d,x[b++]=f,x[b++]=-y,x[b++]=-_,x[b++]=h,x[b++]=c,x[b++]=p,x[b++]=1,x[b++]=0,x[b++]=0,x[b++]=d,x[b++]=f,x[b++]=-y,x[b++]=-_,x[b++]=h,x[b++]=c,x[b++]=p,x[b++]=0,x[b++]=1,x[b++]=0,x[b++]=d,x[b++]=f,x[b++]=-y,x[b++]=-_,x[b++]=h,x[b++]=c,x[b++]=p,x[b++]=0,x[b++]=0,x[b]=1}},e.prototype.render=function(t){var e=this.gl,r=this.program;e.useProgram(r),e.uniform1f(this.scaleLocation,t.scalingRatio),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.uniform1f(this.cameraRatioLocation,t.ratio),e.uniform1f(this.viewportRatioLocation,1/Math.min(t.width,t.height)),e.uniform1f(this.thicknessRatioLocation,1/Math.pow(t.ratio,t.edgesPowRatio)),e.drawArrays(e.TRIANGLES,0,this.array.length/l)},e}(c.AbstractEdgeProgram);e.default=u},483:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(195),s=r(928),h=o(r(620)),c=o(r(498)),l=function(t){function e(e){var r=t.call(this,e,h.default,c.default,4,7)||this,i=e.createBuffer();if(null===i)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");r.indicesBuffer=i,r.positionLocation=e.getAttribLocation(r.program,"a_position"),r.colorLocation=e.getAttribLocation(r.program,"a_color"),r.normalLocation=e.getAttribLocation(r.program,"a_normal"),r.thicknessLocation=e.getAttribLocation(r.program,"a_thickness"),r.radiusLocation=e.getAttribLocation(r.program,"a_radius");var n=e.getUniformLocation(r.program,"u_scale");if(null===n)throw new Error("EdgeClampedProgram: error while getting scaleLocation");r.scaleLocation=n;var o=e.getUniformLocation(r.program,"u_matrix");if(null===o)throw new Error("EdgeClampedProgram: error while getting matrixLocation");r.matrixLocation=o;var a=e.getUniformLocation(r.program,"u_cameraRatio");if(null===a)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");r.cameraRatioLocation=a;var l=e.getUniformLocation(r.program,"u_viewportRatio");if(null===l)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");r.viewportRatioLocation=l;var u=e.getUniformLocation(r.program,"u_thicknessRatio");if(null===u)throw new Error("EdgeClampedProgram: error while getting thicknessRatioLocation");return r.thicknessRatioLocation=u,r.canUse32BitsIndices=s.canUse32BitsIndices(e),r.IndicesArray=r.canUse32BitsIndices?Uint32Array:Uint16Array,r.indicesArray=new r.IndicesArray,r.indicesType=r.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,r.bind(),r}return n(e,t),e.prototype.bind=function(){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.normalLocation),t.enableVertexAttribArray(this.thicknessLocation),t.enableVertexAttribArray(this.colorLocation),t.enableVertexAttribArray(this.radiusLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,7*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.normalLocation,2,t.FLOAT,!1,7*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.thicknessLocation,1,t.FLOAT,!1,7*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,7*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(this.radiusLocation,1,t.FLOAT,!1,7*Float32Array.BYTES_PER_ELEMENT,24)},e.prototype.process=function(t,e,r,i,n){if(i)for(var o=28*n,a=o+28;o<a;o++)this.array[o]=0;else{var h=r.size||1,c=t.x,l=t.y,u=e.x,d=e.y,f=e.size||1,p=s.floatColor(r.color),g=u-c,v=d-l,m=g*g+v*v,y=0,_=0;m&&(y=-v*(m=1/Math.sqrt(m)),_=g*m);var b=28*n,x=this.array;x[b++]=c,x[b++]=l,x[b++]=y,x[b++]=_,x[b++]=h,x[b++]=p,x[b++]=0,x[b++]=c,x[b++]=l,x[b++]=-y,x[b++]=-_,x[b++]=h,x[b++]=p,x[b++]=0,x[b++]=u,x[b++]=d,x[b++]=y,x[b++]=_,x[b++]=h,x[b++]=p,x[b++]=f,x[b++]=u,x[b++]=d,x[b++]=-y,x[b++]=-_,x[b++]=h,x[b++]=p,x[b]=-f}},e.prototype.computeIndices=function(){for(var t=this.array.length/7,e=t+t/2,r=new this.IndicesArray(e),i=0,n=0;i<t;i+=4)r[n++]=i,r[n++]=i+1,r[n++]=i+2,r[n++]=i+2,r[n++]=i+1,r[n++]=i+3;this.indicesArray=r},e.prototype.bufferData=function(){t.prototype.bufferData.call(this);var e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},e.prototype.render=function(t){var e=this.gl,r=this.program;e.useProgram(r),e.uniform1f(this.scaleLocation,t.scalingRatio),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.uniform1f(this.cameraRatioLocation,t.ratio),e.uniform1f(this.viewportRatioLocation,1/Math.min(t.width,t.height)),e.uniform1f(this.thicknessRatioLocation,1/Math.pow(t.ratio,t.edgesPowRatio)),e.drawElements(e.TRIANGLES,this.indicesArray.length,this.indicesType,0)},e}(a.AbstractEdgeProgram);e.default=l},753:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(928),s=o(r(223)),h=o(r(498)),c=function(t){function e(e){var r=t.call(this,e,s.default,h.default,4,6)||this,i=e.createBuffer();if(null===i)throw new Error("EdgeProgram: error while getting resolutionLocation");r.indicesBuffer=i,r.positionLocation=e.getAttribLocation(r.program,"a_position"),r.colorLocation=e.getAttribLocation(r.program,"a_color"),r.normalLocation=e.getAttribLocation(r.program,"a_normal"),r.thicknessLocation=e.getAttribLocation(r.program,"a_thickness");var n=e.getUniformLocation(r.program,"u_scale");if(null===n)throw new Error("EdgeProgram: error while getting scaleLocation");r.scaleLocation=n;var o=e.getUniformLocation(r.program,"u_matrix");if(null===o)throw new Error("EdgeProgram: error while getting matrixLocation");r.matrixLocation=o;var c=e.getUniformLocation(r.program,"u_cameraRatio");if(null===c)throw new Error("EdgeProgram: error while getting cameraRatioLocation");r.cameraRatioLocation=c;var l=e.getUniformLocation(r.program,"u_viewportRatio");if(null===l)throw new Error("EdgeProgram: error while getting viewportRatioLocation");r.viewportRatioLocation=l;var u=e.getUniformLocation(r.program,"u_thicknessRatio");if(null===u)throw new Error("EdgeProgram: error while getting thicknessRatioLocation");return r.thicknessRatioLocation=u,r.canUse32BitsIndices=a.canUse32BitsIndices(e),r.IndicesArray=r.canUse32BitsIndices?Uint32Array:Uint16Array,r.indicesArray=new r.IndicesArray,r.indicesType=r.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,r.bind(),r}return n(e,t),e.prototype.bind=function(){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.normalLocation),t.enableVertexAttribArray(this.thicknessLocation),t.enableVertexAttribArray(this.colorLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.normalLocation,2,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.thicknessLocation,1,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,6*Float32Array.BYTES_PER_ELEMENT,20)},e.prototype.computeIndices=function(){for(var t=this.array.length/6,e=t+t/2,r=new this.IndicesArray(e),i=0,n=0;i<t;i+=4)r[n++]=i,r[n++]=i+1,r[n++]=i+2,r[n++]=i+2,r[n++]=i+1,r[n++]=i+3;this.indicesArray=r},e.prototype.bufferData=function(){t.prototype.bufferData.call(this);var e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},e.prototype.process=function(t,e,r,i,n){if(i)for(var o=24*n,s=o+24;o<s;o++)this.array[o]=0;else{var h=r.size||1,c=t.x,l=t.y,u=e.x,d=e.y,f=a.floatColor(r.color),p=u-c,g=d-l,v=p*p+g*g,m=0,y=0;v&&(m=-g*(v=1/Math.sqrt(v)),y=p*v);var _=24*n,b=this.array;b[_++]=c,b[_++]=l,b[_++]=m,b[_++]=y,b[_++]=h,b[_++]=f,b[_++]=c,b[_++]=l,b[_++]=-m,b[_++]=-y,b[_++]=h,b[_++]=f,b[_++]=u,b[_++]=d,b[_++]=m,b[_++]=y,b[_++]=h,b[_++]=f,b[_++]=u,b[_++]=d,b[_++]=-m,b[_++]=-y,b[_++]=h,b[_]=f}},e.prototype.render=function(t){var e=this.gl,r=this.program;e.useProgram(r),e.uniform1f(this.scaleLocation,t.scalingRatio),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.uniform1f(this.cameraRatioLocation,t.ratio),e.uniform1f(this.viewportRatioLocation,1/Math.min(t.width,t.height)),e.uniform1f(this.thicknessRatioLocation,1/Math.pow(t.ratio,t.edgesPowRatio)),e.drawElements(e.TRIANGLES,this.indicesArray.length,this.indicesType,0)},e}(r(195).AbstractEdgeProgram);e.default=c},582:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(928),s=o(r(106)),h=o(r(262)),c=function(t){function e(e){var r=t.call(this,e,s.default,h.default,1,4)||this;return r.bind(),r}return n(e,t),e.prototype.process=function(t,e,r){var i=this.array,n=1*r*4;if(e)return i[n++]=0,i[n++]=0,i[n++]=0,void(i[n++]=0);var o=a.floatColor(t.color);i[n++]=t.x,i[n++]=t.y,i[n++]=t.size,i[n]=o},e.prototype.render=function(t){var e=this.gl,r=this.program;e.useProgram(r),e.uniform1f(this.ratioLocation,1/Math.pow(t.ratio,t.nodesPowRatio)),e.uniform1f(this.scaleLocation,t.scalingRatio),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.drawArrays(e.POINTS,0,this.array.length/4)},e}(r(909).AbstractNodeProgram);e.default=c},706:(t,e)=>{"use strict";function r(t,e,r){var i="VERTEX"===t?e.VERTEX_SHADER:e.FRAGMENT_SHADER,n=e.createShader(i);if(null===n)throw new Error("loadShader: error while creating the shader");if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(n);throw e.deleteShader(n),new Error("loadShader: error while compiling the shader:\n"+o+"\n"+r)}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.loadProgram=e.loadFragmentShader=e.loadVertexShader=void 0,e.loadVertexShader=function(t,e){return r("VERTEX",t,e)},e.loadFragmentShader=function(t,e){return r("FRAGMENT",t,e)},e.loadProgram=function(t,e){var r,i,n=t.createProgram();if(null===n)throw new Error("loadProgram: error while creating the program.");for(r=0,i=e.length;r<i;r++)t.attachShader(n,e[r]);if(t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw t.deleteProgram(n),new Error("loadProgram: error while linking the program.");return n}},310:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_SETTINGS=e.validateSettings=void 0;var n=i(r(622)),o=i(r(61)),a=i(r(942)),s=i(r(582)),h=i(r(753)),c=i(r(569));e.validateSettings=function(t){if("number"!=typeof t.labelDensity||t.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.")},e.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",stagePadding:30,labelDensity:.07,labelGridCellSize:60,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,labelRenderer:n.default,hoverRenderer:o.default,edgeLabelRenderer:a.default,nodeProgramClasses:{circle:s.default},edgeProgramClasses:{arrow:c.default,line:h.default}}},159:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(187),s=o(r(886)),h=o(r(764)),c=o(r(269)),l=o(r(134)),u=r(928),d=r(730),f=r(310),p=o(r(508)),g=r(700),v=s.default.nodeExtent,m=s.default.edgeExtent,y=u.getPixelRatio(),_=u.getPixelRatio();function b(t,e,r){if(!r.hasOwnProperty("x")||!r.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'+e+'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?');return r.color||(r.color=t.defaultNodeColor),r.label||(r.label=""),r.size||(r.size=2),r.hasOwnProperty("hidden")||(r.hidden=!1),r.hasOwnProperty("highlighted")||(r.highlighted=!1),r}function x(t,e,r){return r.color||(r.color=t.defaultEdgeColor),r.label||(r.label=""),r.size||(r.size=.5),r.hasOwnProperty("hidden")||(r.hidden=!1),r}var w=function(t){function e(e,r,i){void 0===i&&(i={});var n=t.call(this)||this;if(n.elements={},n.canvasContexts={},n.webGLContexts={},n.activeListeners={},n.quadtree=new l.default,n.labelGrid=new d.LabelGrid,n.nodeDataCache={},n.edgeDataCache={},n.nodeKeyToIndex={},n.edgeKeyToIndex={},n.nodeExtent={x:[0,1],y:[0,1],z:[0,1]},n.edgeExtent=null,n.matrix=g.identity(),n.invMatrix=g.identity(),n.customBBox=null,n.normalizationFunction=u.createNormalizationFunction({x:[-1/0,1/0],y:[-1/0,1/0]}),n.cameraSizeRatio=1,n.positiveAngleCos=1,n.negativeAngleCos=1,n.positiveAngleSin=0,n.negativeAngleSin=-0,n.width=0,n.height=0,n.displayedLabels=new Set,n.highlightedNodes=new Set,n.hoveredNode=null,n.renderFrame=null,n.renderHighlightedNodesFrame=null,n.needToProcess=!1,n.needToSoftProcess=!1,n.nodePrograms={},n.edgePrograms={},n.settings=u.assignDeep({},f.DEFAULT_SETTINGS,i),f.validateSettings(n.settings),u.validateGraph(e),!(r instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");n.graph=e,n.container=r,n.initializeCache(),n.createWebGLContext("edges"),n.createWebGLContext("nodes"),n.createCanvasContext("edgeLabels"),n.createCanvasContext("labels"),n.createCanvasContext("hovers"),n.createCanvasContext("mouse");var o=n.webGLContexts.nodes;for(var a in o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enable(o.BLEND),(o=n.webGLContexts.edges).blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enable(o.BLEND),n.settings.nodeProgramClasses){var s=n.settings.nodeProgramClasses[a];n.nodePrograms[a]=new s(n.webGLContexts.nodes)}for(var a in n.settings.edgeProgramClasses){var v=n.settings.edgeProgramClasses[a];n.edgePrograms[a]=new v(n.webGLContexts.edges)}return n.resize(),n.camera=new h.default,n.bindCameraHandlers(),n.mouseCaptor=new c.default(n.elements.mouse,n),n.touchCaptor=new p.default(n.elements.mouse,n),n.bindEventHandlers(),n.bindGraphHandlers(),n.process(),n.render(),n}return n(e,t),e.prototype.createCanvas=function(t){var e=u.createElement("canvas",{position:"absolute"},{class:"sigma-"+t});return this.elements[t]=e,this.container.appendChild(e),e},e.prototype.createCanvasContext=function(t){var e=this.createCanvas(t);return this.canvasContexts[t]=e.getContext("2d",{preserveDrawingBuffer:!1,antialias:!1}),this},e.prototype.createWebGLContext=function(t){var e,r=this.createCanvas(t),i={preserveDrawingBuffer:!1,antialias:!1};return(e=r.getContext("webgl2",i))||(e=r.getContext("webgl",i)),e||(e=r.getContext("experimental-webgl",i)),this.webGLContexts[t]=e,this},e.prototype.initializeCache=function(){var t=this,e=this.graph,r=0;e.forEachNode((function(e){t.nodeKeyToIndex[e]=r++})),r=0,e.forEachEdge((function(e){t.edgeKeyToIndex[e]=r++}))},e.prototype.bindCameraHandlers=function(){var t=this;return this.activeListeners.camera=function(){t._scheduleRefresh()},this.camera.on("updated",this.activeListeners.camera),this},e.prototype.bindEventHandlers=function(){var t=this;this.activeListeners.handleResize=function(){t.needToSoftProcess=!0,t._scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize);var e=function(t,e,r,i,n){return t>r-n&&t<r+n&&e>i-n&&e<i+n&&Math.sqrt(Math.pow(t-r,2)+Math.pow(e-i,2))<n},r=function(e,r){var i=t.viewportToFramedGraph({x:e,y:r});return t.quadtree.point(i.x,1-i.y)};this.activeListeners.handleMove=function(i){for(var n=r(i.x,i.y),o=1/0,a=null,s=0,h=n.length;s<h;s++){var c=n[s],l=t.nodeDataCache[c],u=t.framedGraphToViewport(l),d=t.scaleSize(l.size);if(e(i.x,i.y,u.x,u.y,d)){var f=Math.sqrt(Math.pow(i.x-u.x,2)+Math.pow(i.y-u.y,2));f<o&&(o=f,a=c)}}return a&&t.hoveredNode!==a&&!t.nodeDataCache[a].hidden?(t.hoveredNode&&t.emit("leaveNode",{node:t.hoveredNode}),t.hoveredNode=a,t.emit("enterNode",{node:a}),void t.scheduleHighlightedNodesRender()):t.hoveredNode&&(l=t.nodeDataCache[t.hoveredNode],u=t.framedGraphToViewport(l),d=t.scaleSize(l.size),!e(i.x,i.y,u.x,u.y,d))?(c=t.hoveredNode,t.hoveredNode=null,t.emit("leaveNode",{node:c}),t.scheduleHighlightedNodesRender()):void 0};var i=function(i){return function(n){for(var o=r(n.x,n.y),a=0,s=o.length;a<s;a++){var h=o[a],c=t.nodeDataCache[h],l=t.framedGraphToViewport(c),u=t.scaleSize(c.size);if(e(n.x,n.y,l.x,l.y,u))return t.emit(i+"Node",{node:h,captor:n,event:n})}return t.emit(i+"Stage",{event:n})}};return this.activeListeners.handleClick=i("click"),this.activeListeners.handleRightClick=i("rightClick"),this.activeListeners.handleDown=i("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},e.prototype.bindGraphHandlers=function(){var t=this,e=this.graph;return this.activeListeners.graphUpdate=function(){t.needToProcess=!0,t._scheduleRefresh()},this.activeListeners.softGraphUpdate=function(){t.needToSoftProcess=!0,t._scheduleRefresh()},this.activeListeners.addNodeGraphUpdate=function(r){t.nodeKeyToIndex[r.key]=e.order-1,t.activeListeners.graphUpdate()},this.activeListeners.addEdgeGraphUpdate=function(r){t.nodeKeyToIndex[r.key]=e.order-1,t.activeListeners.graphUpdate()},e.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),e.on("nodeDropped",this.activeListeners.graphUpdate),e.on("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),e.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),e.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),e.on("edgeDropped",this.activeListeners.graphUpdate),e.on("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),e.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),e.on("edgesCleared",this.activeListeners.graphUpdate),e.on("cleared",this.activeListeners.graphUpdate),this},e.prototype.process=function(t){void 0===t&&(t=!1);var e=this.graph,r=this.settings,i=this.getDimensions(),n=new h.default,o=u.matrixFromCamera(n.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.quadtree.clear(),this.labelGrid.resizeAndClear(i,r.labelGridCellSize),this.highlightedNodes=new Set;var a=["x","y"];this.settings.zIndex&&(a.push("z"),this.edgeExtent=m(e,["z"])),this.nodeExtent=v(e,a),this.normalizationFunction=u.createNormalizationFunction(this.customBBox||this.nodeExtent);var s=this.nodePrograms[this.settings.defaultNodeType];t||s.allocate(e.order);var c=e.nodes();this.settings.zIndex&&(c=u.zIndexOrdering(this.nodeExtent.z,(function(t){return e.getNodeAttribute(t,"z")}),c));for(var l=0,d=c.length;l<d;l++){var f=c[l],p=Object.assign({},e.getNodeAttributes(f));r.nodeReducer&&(p=r.nodeReducer(f,p));var g=b(this.settings,f,p);this.nodeDataCache[f]=g,this.normalizationFunction.applyTo(g),this.quadtree.add(f,g.x,1-g.y,g.size/this.width),this.labelGrid.add(f,g.size,this.framedGraphToViewport(g,{matrix:o})),s.process(g,g.hidden,l),g.highlighted&&!g.hidden&&this.highlightedNodes.add(f),this.nodeKeyToIndex[f]=l}this.labelGrid.organize(),s.bind(),s.bufferData();var y=this.edgePrograms[this.settings.defaultEdgeType];t||y.allocate(e.size);var _=e.edges();for(this.settings.zIndex&&this.edgeExtent&&(_=u.zIndexOrdering(this.edgeExtent.z,(function(t){return e.getEdgeAttribute(t,"z")}),_)),l=0,d=_.length;l<d;l++){var w=_[l];p=Object.assign({},e.getEdgeAttributes(w)),r.edgeReducer&&(p=r.edgeReducer(w,p)),g=x(this.settings,0,p),this.edgeDataCache[w]=g;var L=e.extremities(w),E=this.nodeDataCache[L[0]],A=this.nodeDataCache[L[1]],T=g.hidden||E.hidden||A.hidden;y.process(E,A,g,T,l),this.nodeKeyToIndex[w]=l}return t||"function"!=typeof y.computeIndices||y.computeIndices(),y.bind(),y.bufferData(),this},e.prototype._refresh=function(){return this.needToProcess?this.process():this.needToSoftProcess&&this.process(!0),this.needToProcess=!1,this.needToSoftProcess=!1,this.render(),this},e.prototype._scheduleRefresh=function(){var t=this;return this.renderFrame||(this.renderFrame=u.requestFrame((function(){t._refresh(),t.renderFrame=null}))),this},e.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var t,e=this.camera.getState();if(e.ratio>=1)t=new Set(this.graph.nodes());else{var r=this.viewRectangle();t=new Set(this.quadtree.rectangle(r.x1,1-r.y1,r.x2,1-r.y2,r.height))}var i=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity);this.displayedLabels=new Set;for(var n=this.canvasContexts.labels,o=0,a=i.length;o<a;o++){var s=i[o],h=this.nodeDataCache[s];if(!h.hidden){var c=this.framedGraphToViewport(h),l=c.x,u=c.y,d=this.scaleSize(h.size);d<this.settings.labelRenderedSizeThreshold||t.has(s)&&(this.displayedLabels.add(s),this.settings.labelRenderer(n,{key:s,label:h.label,color:"#000",size:d,x:l,y:u},this.settings))}}return this},e.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var t=this.canvasContexts.edgeLabels;t.clearRect(0,0,this.width,this.height);for(var e=d.edgeLabelsToDisplayFromNodes({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedLabels,highlightedNodes:this.highlightedNodes}),r=0,i=e.length;r<i;r++){var n=e[r],o=this.graph.extremities(n),a=this.nodeDataCache[o[0]],s=this.nodeDataCache[o[1]],h=this.edgeDataCache[e[r]];if(!(h.hidden||a.hidden||s.hidden)){var c=this.framedGraphToViewport(a),l=c.x,u=c.y,f=this.framedGraphToViewport(s),p=f.x,g=f.y,v=this.scaleSize(h.size);this.settings.edgeLabelRenderer(t,{key:n,label:h.label,color:h.color,size:v},{key:o[0],x:l,y:u},{key:o[1],x:p,y:g},this.settings)}}return this},e.prototype.renderHighlightedNodes=function(){var t=this,e=this.canvasContexts.hovers;e.clearRect(0,0,this.width,this.height);var r=function(r){var i=t.nodeDataCache[r],n=t.framedGraphToViewport(i),o=n.x,a=n.y,s=t.scaleSize(i.size);t.settings.hoverRenderer(e,{key:r,label:i.label,color:i.color,size:s,x:o,y:a},t.settings)};this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&r(this.hoveredNode),this.highlightedNodes.forEach(r)},e.prototype.scheduleHighlightedNodesRender=function(){var t=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=u.requestFrame((function(){t.renderHighlightedNodesFrame=null,t.renderHighlightedNodes(),t.renderEdgeLabels()})))},e.prototype.render=function(){if(this.renderFrame&&(u.cancelFrame(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),this.resize(),this.clear(),this.updateCachedValues(),!this.graph.order)return this;var t=this.mouseCaptor,e=this.camera.isAnimated()||t.isMoving||t.draggedEvents||t.currentWheelDirection,r=this.camera.getState(),i=this.getDimensions(),n=this.getGraphDimensions(),o=this.getSetting("stagePadding")||0;return this.matrix=u.matrixFromCamera(r,i,n,o),this.invMatrix=u.matrixFromCamera(r,i,n,o,!0),this.nodePrograms[this.settings.defaultNodeType].render({matrix:this.matrix,width:this.width,height:this.height,ratio:r.ratio,nodesPowRatio:.5,scalingRatio:_}),this.settings.hideEdgesOnMove&&e||this.edgePrograms[this.settings.defaultEdgeType].render({matrix:this.matrix,width:this.width,height:this.height,ratio:r.ratio,edgesPowRatio:.5,scalingRatio:_}),this.settings.hideLabelsOnMove&&e||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),this},e.prototype.updateCachedValues=function(){var t=this.camera.getState(),e=t.ratio,r=t.angle;this.cameraSizeRatio=Math.pow(e,.5),this.positiveAngleCos=Math.cos(r),this.negativeAngleCos=Math.cos(-r),this.positiveAngleSin=Math.sin(r),this.negativeAngleSin=Math.sin(-r)},e.prototype.getCamera=function(){return this.camera},e.prototype.getGraph=function(){return this.graph},e.prototype.getMouseCaptor=function(){return this.mouseCaptor},e.prototype.getTouchCaptor=function(){return this.touchCaptor},e.prototype.getDimensions=function(){return{width:this.width,height:this.height}},e.prototype.getGraphDimensions=function(){var t=this.customBBox||this.nodeExtent;return{width:t.x[1]-t.x[0],height:t.y[1]-t.y[0]}},e.prototype.getNodeDisplayData=function(t){var e=this.nodeDataCache[t];return e?Object.assign({},e):void 0},e.prototype.getEdgeDisplayData=function(t){var e=this.edgeDataCache[t];return e?Object.assign({},e):void 0},e.prototype.getSetting=function(t){return this.settings[t]},e.prototype.setSetting=function(t,e){return this.settings[t]=e,f.validateSettings(this.settings),this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.updateSetting=function(t,e){return this.settings[t]=e(this.settings[t]),f.validateSettings(this.settings),this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.resize=function(){var t=this.width,e=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,0===this.width)throw new Error("Sigma: container has no width.");if(0===this.height)throw new Error("Sigma: container has no height.");if(t===this.width&&e===this.height)return this;for(var r in this.elements){var i=this.elements[r];i.style.width=this.width+"px",i.style.height=this.height+"px"}for(var r in this.canvasContexts)this.elements[r].setAttribute("width",this.width*y+"px"),this.elements[r].setAttribute("height",this.height*y+"px"),1!==y&&this.canvasContexts[r].scale(y,y);for(var r in this.webGLContexts)this.elements[r].setAttribute("width",this.width*_+"px"),this.elements[r].setAttribute("height",this.height*_+"px"),this.webGLContexts[r].viewport(0,0,this.width*_,this.height*_);return this},e.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},e.prototype.refresh=function(){return this.needToProcess=!0,this._refresh(),this},e.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.getViewportZoomedState=function(t,e){var r=this.camera.getState(),i=r.ratio,n=r.angle,o=r.x,a=r.y,s=e/i,h={x:this.width/2,y:this.height/2},c=this.viewportToFramedGraph(t),l=this.viewportToFramedGraph(h);return{angle:n,x:(c.x-l.x)*(1-s)+o,y:(c.y-l.y)*(1-s)+a,ratio:e}},e.prototype.viewRectangle=function(){var t=0*this.width/8,e=0*this.height/8,r=this.viewportToFramedGraph({x:0-t,y:0-e}),i=this.viewportToFramedGraph({x:this.width+t,y:0-e}),n=this.viewportToFramedGraph({x:0,y:this.height+e});return{x1:r.x,y1:r.y,x2:i.x,y2:i.y,height:i.y-n.y}},e.prototype.framedGraphToViewport=function(t,e){void 0===e&&(e={});var r=!!e.cameraState||!!e.viewportDimensions||!e.graphDimensions,i=e.matrix?e.matrix:r?u.matrixFromCamera(e.cameraState||this.camera.getState(),e.viewportDimensions||this.getDimensions(),e.graphDimensions||this.getGraphDimensions(),e.padding||this.getSetting("stagePadding")||0):this.matrix,n=[t.x,t.y,1],o=g.multiplyVec(i,n);return{x:(1+o[0])*this.width/2,y:(1-o[1])*this.height/2}},e.prototype.viewportToFramedGraph=function(t,e){void 0===e&&(e={});var r=!!e.cameraState||!!e.viewportDimensions||!e.graphDimensions,i=e.matrix?e.matrix:r?u.matrixFromCamera(e.cameraState||this.camera.getState(),e.viewportDimensions||this.getDimensions(),e.graphDimensions||this.getGraphDimensions(),e.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,n=[t.x/this.width*2-1,1-t.y/this.height*2,1],o=g.multiplyVec(i,n);return{x:o[0],y:o[1]}},e.prototype.viewportToGraph=function(t){return this.normalizationFunction.inverse(this.viewportToFramedGraph(t))},e.prototype.graphToViewport=function(t){return this.framedGraphToViewport(this.normalizationFunction(t))},e.prototype.getBBox=function(){return v(this.graph,["x","y"])},e.prototype.getCustomBBox=function(){return this.customBBox},e.prototype.setCustomBBox=function(t){return this.customBBox=t,this._scheduleRefresh(),this},e.prototype.kill=function(){var t=this.graph;this.emit("kill"),this.removeAllListeners(),this.camera.removeListener("updated",this.activeListeners.camera),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),t.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),t.removeListener("nodeDropped",this.activeListeners.graphUpdate),t.removeListener("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),t.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),t.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),t.removeListener("edgeDropped",this.activeListeners.graphUpdate),t.removeListener("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),t.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),t.removeListener("edgesCleared",this.activeListeners.graphUpdate),t.removeListener("cleared",this.activeListeners.graphUpdate),this.quadtree=new l.default,this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&(u.cancelFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(u.cancelFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var e=this.container;e.firstChild;)e.removeChild(e.firstChild)},e.prototype.scaleSize=function(t){return t/this.cameraSizeRatio},e}(a.EventEmitter);e.default=w},751:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.animateNodes=e.ANIMATE_DEFAULTS=void 0;var n=r(928),o=i(r(358));e.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150},e.animateNodes=function(t,r,i,a){var s=Object.assign({},e.ANIMATE_DEFAULTS,i),h="function"==typeof s.easing?s.easing:o.default[s.easing],c=Date.now(),l={};for(var u in r){var d=r[u];for(var f in l[u]={},d)l[u][f]=t.getNodeAttribute(u,f)}var p=null,g=function(){var e=(Date.now()-c)/s.duration;if(e>=1){for(var i in r){var o=r[i];for(var u in o)t.setNodeAttribute(i,u,o[u])}"function"==typeof a&&a()}else{for(var i in e=h(e),r){o=r[i];var d=l[i];for(var u in o)t.setNodeAttribute(i,u,o[u]*e+d[u]*(1-e))}p=n.requestFrame(g)}};return g(),function(){p&&n.cancelFrame(p)}}},358:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cubicInOut=e.cubicOut=e.cubicIn=e.quadraticInOut=e.quadraticOut=e.quadraticIn=e.linear=void 0,e.linear=function(t){return t},e.quadraticIn=function(t){return t*t},e.quadraticOut=function(t){return t*(2-t)},e.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},e.cubicIn=function(t){return t*t*t},e.cubicOut=function(t){return--t*t*t+1},e.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};var r={linear:e.linear,quadraticIn:e.quadraticIn,quadraticOut:e.quadraticOut,quadraticInOut:e.quadraticInOut,cubicIn:e.cubicIn,cubicOut:e.cubicOut,cubicInOut:e.cubicInOut};e.default=r},928:function(t,e,r){"use strict";var i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.validateGraph=e.canUse32BitsIndices=e.extractPixel=e.matrixFromCamera=e.getCorrectionRatio=e.floatColor=e.zIndexOrdering=e.createNormalizationFunction=e.getPixelRatio=e.createElement=e.cancelFrame=e.requestFrame=e.assignDeep=e.isPlainObject=void 0;var o=n(r(186)),a=r(700);function s(t){return"object"==typeof t&&null!==t&&t.constructor===Object}e.isPlainObject=s,e.assignDeep=function t(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e=e||{};for(var n=0,o=r.length;n<o;n++){var a=r[n];if(a)for(var h in a)s(a[h])?e[h]=t(e[h],a[h]):e[h]=a[h]}return e},e.requestFrame="undefined"!=typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,0)},e.cancelFrame="undefined"!=typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:function(t){return clearTimeout(t)},e.createElement=function(t,e,r){var i=document.createElement(t);if(e)for(var n in e)i.style[n]=e[n];if(r)for(var n in r)i.setAttribute(n,r[n]);return i},e.getPixelRatio=function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},e.createNormalizationFunction=function(t){var e=i(t.x,2),r=e[0],n=e[1],o=i(t.y,2),a=o[0],s=o[1],h=Math.max(n-r,s-a);0===h&&(h=1);var c=(n+r)/2,l=(s+a)/2,u=function(t){return{x:.5+(t.x-c)/h,y:.5+(t.y-l)/h}};return u.applyTo=function(t){t.x=.5+(t.x-c)/h,t.y=.5+(t.y-l)/h},u.inverse=function(t){return{x:c+h*(t.x-.5),y:l+h*(t.y-.5)}},u.ratio=h,u},e.zIndexOrdering=function(t,e,r){return r.sort((function(t,r){var i=e(t)||0,n=e(r)||0;return i<n?-1:i>n?1:0}))};var h={},c=new Int8Array(4),l=new Int32Array(c.buffer,0,1),u=new Float32Array(c.buffer,0,1),d=/^\s*rgba?\s*\(/,f=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function p(t,e){var r=t.height/t.width,i=e.height/e.width;return r<1&&i>1||r>1&&i<1?1:Math.min(Math.max(i,1/i),Math.max(1/r,r))}e.floatColor=function(t){if(void 0!==h[t])return h[t];var e=0,r=0,i=0,n=1;if("#"===t[0])4===t.length?(e=parseInt(t.charAt(1)+t.charAt(1),16),r=parseInt(t.charAt(2)+t.charAt(2),16),i=parseInt(t.charAt(3)+t.charAt(3),16)):(e=parseInt(t.charAt(1)+t.charAt(2),16),r=parseInt(t.charAt(3)+t.charAt(4),16),i=parseInt(t.charAt(5)+t.charAt(6),16));else if(d.test(t)){var o=t.match(f);o&&(e=+o[1],r=+o[2],i=+o[3],o[4]&&(n=+o[4]))}n=255*n|0,l[0]=4278190079&(n<<24|i<<16|r<<8|e);var a=u[0];return h[t]=a,a},e.getCorrectionRatio=p,e.matrixFromCamera=function(t,e,r,i,n){var o=t.angle,s=t.ratio,h=t.x,c=t.y,l=e.width,u=e.height,d=a.identity(),f=Math.min(l,u)-2*i,g=p(e,r);return n?(a.multiply(d,a.translate(a.identity(),h,c)),a.multiply(d,a.scale(a.identity(),s)),a.multiply(d,a.rotate(a.identity(),o)),a.multiply(d,a.scale(a.identity(),l/f/2/g,u/f/2/g))):(a.multiply(d,a.scale(a.identity(),f/l*2*g,f/u*2*g)),a.multiply(d,a.rotate(a.identity(),-o)),a.multiply(d,a.scale(a.identity(),1/s)),a.multiply(d,a.translate(a.identity(),-h,-c))),d},e.extractPixel=function(t,e,r,i){var n=i||new Uint8Array(4);return t.readPixels(e,r,1,1,t.RGBA,t.UNSIGNED_BYTE,n),n},e.canUse32BitsIndices=function(t){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint")},e.validateGraph=function(t){if(!o.default(t))throw new Error("Sigma: invalid graph instance.");t.forEachNode((function(t,e){if(!Number.isFinite(e.x)||!Number.isFinite(e.y))throw new Error("Sigma: Coordinates of node "+t+" are invalid. A node must have a numeric 'x' and 'y' attribute.")}))}},700:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiplyVec=e.multiply=e.translate=e.rotate=e.scale=e.identity=void 0,e.identity=function(){return Float32Array.of(1,0,0,0,1,0,0,0,1)},e.scale=function(t,e,r){return t[0]=e,t[4]="number"==typeof r?r:e,t},e.rotate=function(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=r,t[3]=-r,t[4]=i,t},e.translate=function(t,e,r){return t[6]=e,t[7]=r,t},e.multiply=function(t,e){var r=t[0],i=t[1],n=t[2],o=t[3],a=t[4],s=t[5],h=t[6],c=t[7],l=t[8],u=e[0],d=e[1],f=e[2],p=e[3],g=e[4],v=e[5],m=e[6],y=e[7],_=e[8];return t[0]=u*r+d*o+f*h,t[1]=u*i+d*a+f*c,t[2]=u*n+d*s+f*l,t[3]=p*r+g*o+v*h,t[4]=p*i+g*a+v*c,t[5]=p*n+g*s+v*l,t[6]=m*r+y*o+_*h,t[7]=m*i+y*a+_*c,t[8]=m*n+y*s+_*l,t},e.multiplyVec=function(t,e){var r=t[0],i=t[1],n=t[2],o=t[3],a=t[4],s=t[5],h=t[6],c=t[7],l=t[8],u=e[0],d=e[1],f=e[2],p=Array.isArray(e)?[0,0,0]:Float32Array.of(0,0,0);return p[0]=u*r+d*o+f*h,p[1]=u*i+d*a+f*c,p[2]=u*n+d*s+f*l,p}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,r),o.exports}return r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(607)})()}));